.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "CHECK_NUT_PLUS" "1" "19 September 2013" "" ""

.SH NAME
check_nut_plus \- This nagios plugin reports the status of the UPS using NUT.
.SH SYNOPSIS

\fBcheck_nut_plus [ -D ] -d DEVICE -v CHECK_DESC [ -v CHECK_DESC ... ]
\fR\fBcheck_nut_plus [ -V | -h ] \fR

.SH "DESCRIPTION"
.PP
This manual page documents the
\fBcheck_nut_plus\fR 
command.
.PP
\fBcheck_nut_plus\fR is a program to 
generate an \fBnrpe\fR(8) suitable output of \fBupsc\fR(8),
in short a nagios plugin for uninterruptable power supplies (UPS).
.SH "FEATURES"
.TP 0.2i
\(bu
Watch and evaluate every value  \fBupsc\fR(8) can report.
.TP 0.2i
\(bu
The kind of comparison can be specified by OPERATOR.
.TP 0.2i
\(bu
Multiple and combined comparison can be specified.
.SH "OPTIONS"
.TP
\fB-d DEVICE \fR
A device description  \fBupsc\fR(8) would accept.
.TP
\fB-v CHECK_DESC \fR
A check desciption. See CHECK DESCIPTION below.
.TP
\fB-D \fR
Enable debugging.
.TP
\fB-V \fR
Print version information and exit.
.TP
\fB-h \fR
Print help and exit.
.SH "CHECK DESCIPTION"
.TP 0.2i
\(bu
\fBcheck_nut-plus -d DEVICE -v CHECK_DESC [ -v CHECK_DESC ... ]\fR
.TP 0.2i
\(bu
\fBDEVICE :\fR a device description \fBupsc\fR(8) would accept.
.TP 0.2i
\(bu
\fBCHECK_DESC := UPSCKEY '=' SEVERITY OPERATOR VALUE [ ':' SEVERITY OPERATOR VALUE ] ...\fR
.TP 0.2i
\(bu
\fBUPSCKEY :\fR key string as listed by \fBupsc\fR(8), see 'man upsc'
.TP 0.2i
\(bu
\fBSEVERITY := { 'w' | 'c' }\fR
.RS
.TP 0.2i
\(bu
\fB\&'w'\fR: warning
.TP 0.2i
\(bu
\fB\&'c'\fR: critical errors
.RE
.TP 0.2i
\(bu
\fBOPERATOR := { '>=' | '>' | '<\&' | '<=' | '==' | '=' | '<>' | '!=' | '~' | '!~' }\fR
.RS
.TP 0.2i
\(bu
\fB\&'>='\fR: numerical comparison, reported value is greater or equal than VALUE
.TP 0.2i
\(bu
\fB\&'>' \fR: numerical comparison, reported value is greater than VALUE
.TP 0.2i
\(bu
\fB\&'<='\fR: numerical comparison, reported value is less or equal than VALUE
.TP 0.2i
\(bu
\fB\&'<\&' \fR: numerical comparison, reported value is less than VALUE
.TP 0.2i
\(bu
\fB\&'=' \fR: numerical comparison, reported value is equal to VALUE
.TP 0.2i
\(bu
\fB\&'<>'\fR: numerical comparison, reported value is not equal to VALUE
.TP 0.2i
\(bu
\fB\&'=='\fR: string comparison, reported value is identical to VALUE
.TP 0.2i
\(bu
\fB\&'!='\fR: string comparison, reported value is not identical to VALUE
.TP 0.2i
\(bu
\fB\&'~' \fR: regex match, reported value matches the perl regular expression given by VALUE
.TP 0.2i
\(bu
\fB\&'!~'\fR: regex match, reported value does not match the perl regular expression given by VALUE

For perl regular expressions see 'man perlre'.
.RE
.SH "ENVIRONMENT"
.PP
None
.SH "EXAMPLES"
.TP 0.2i
\(bu
.SS "CLASSIC"

.nf
command[check_ups_load]=/usr/lib/nagios/plugins/check_nut_plus \\
 -d ups17@localhost  -v "ups.load=w>90:c>=98"
		  
.fi
.PP
raise warning if the value reported by "ups.load" is 
greater than "90" and raise critical error if it is 
"greater or equal than "98"
.TP 0.2i
\(bu
.SS "OBSERVE A FIXED VALUE"

.nf
command[check_ups_Ubat]=/usr/lib/nagios/plugins/check_nut_plus \\
 -d ups@localhost  -v "battery.voltage=c!=27.0"
          
.fi
.PP
raise critical error if the value reported by 
"battery.voltage" it not equal to 27.0
.TP 0.2i
\(bu
.SS "OBSERVE MULTIPLE FIXED STRINGS"

.nf
command[check_ups_model]=/usr/lib/nagios/plugins/check_nut_plus \\
 -d myups  -v "device.mfr=c!=MGE UPS SYSTEMS" -v "device.model=c!=Evolution 1150" \\
 -v "device.serial=w!=AV4H4301K"
          
.fi
.PP
raise critical error if "device.mfr" or "device.model"
are not the specified ones.
raise warning if "device.serial" has changed
so you can see if someone has been tinkering ;-)
.TP 0.2i
\(bu
.SS "WINDOW DISCRIMITATION"

.nf
command[check_ups_Uin]=/usr/lib/nagios/plugins/check_nut_plus \\
 -d otherups@somehost  -v "input.voltage=w>=238:c>=240:w<=225:c<=220"
          
.fi
.PP
critical error on input.voltage >=240 or c<=220
no error on input.voltage < 238 and > 220
warning otherwise
.SH "FILES"
.PP
\fBdebian/changelog\fR Debian changelog file.
.SH "SEE ALSO"
.PP
perlre(1), \fBupsc\fR(8), http://www.networkupstools.org/, \fBnrpe\fR(8)
.SH "BUGS"
.PP
Sure...
.SH "AUTHOR"
.PP
This manual page was written by LiHAS <support@lihas.de> for
the \fBcheck_nut_plus\fR software and may be used by others.  
It has been loosely derived from \fBcheck_ups\fR by
Luca Bertoncello <lucabert@lucabert.de>\&.
Permission is granted to copy, distribute and/or modify this document 
under
the terms of the GNU Free Documentation
License, Version 1.1 or any later version published by the Free
Software Foundation; with no Invariant Sections, no Front-Cover
Texts and no Back-Cover Texts.
.SH "DISTRIBUTION"
.PP
The  newest  version  of \fBcheck_nut_plus\fR 
can be obtained from  http://ftp.lihas.de/debian <URL:http://ftp.lihas.de/debian>
.PP
This program is free software; you can redistribute it and/or  modify
it  under  the terms of the GNU General Public License as published by 
the Free Software Foundation; Version 2. This guarantees your right to 
use, modify, and redistribute \fBcheck_nut_plus\fR under certain 
conditions. 
.PP
This program is distributed in the hope that it will be useful,
but \fBWITHOUT ANY WARRANTY\fR; without even the
implied  warranty  of \fBMERCHANTABILITY\fR
or \fBFITNESS FOR A PARTICULAR PURPOSE\fR\&.
See the GNU General Public License for more details (it is in
the COPYING file  of the check_nut_plus distribution).
